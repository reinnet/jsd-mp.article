We have formulated the JSD-MP problem in ILP and its optimal solution is NP-Hard.
In this section we represent a way to have a near-optimal solution in polynomial time for deciding quickly on SFC request and it can be used at large datacenters.
As we mentioned before JSD-MP problem consists of two parts which are VNF placement and VFNM placement that we formulate them together.

\subsection{Maximizing the Accepted SFC Requests with Management Constraints (MASMAN)}
For each chain we divide the placement into two different phase that are solved using different algorithms.
The first phase is the VNF placement phase that we are solve it with Bari \cite{Bari2015} algorithm.
This algorithm is an efficient dynamic programming algorithm based on Veterbi algorithm for SFC placement that can be used here but it doesn't consider the management resources so we need to tweak it.
\cite{Bari2015} algorithm for each chain solves a Dynamic Programming problem that finds the minimum cost path for the chain in a multi-stage graph.
It decides each node location with its previous one to minimize the cost term because it believs a minimum cost path consists of minimum cost sub-paths.
Each stage in the graph is a one network function that needs a placement and here we add a new stage to this algorithm to decide the VNFM at the last stage. By this way we also consider the management resources jointly with SFC placement but for having better results also we need to change cost functions.
Cost functions are the most important part of the \cite{Bari2015} algorithm and here for getting better results besides the VNF considerations we also consider
that using a previously used VNFM is better that using a new VNFM to reduce our final costs.
At the end, we used Tabu Search for improving the VNFM placement. By improving we mean merging VNFM to reduce the license cost.

\begin{lstlisting}[language=go]
for i := 0; i < len(chains); i++ {
  chain := chains[i]
  var feasibleSet []Node
  for i := 0; i < len(chain); i++ {
    if i == 0 {
      feasibleSet = feasibleSetForInstance(i, nil)
    } else {
      selectedNode := nodesWithMinimumCost(
        feasibleSet(i - 1))[0]
      if selectedNode == nil {
        break
      }
      feasibleSetForInstance(i, selectedNode)
    }
  }
  feasibleManagers := feasibleManagerforChain(chain)
  selectedManager = vnfmWithMoreAvailableResources(
    vnfmWithEmptyCapacity(
      feasibleManagers))[0]
  if selectedManager == nil {
    break
  }
}
\end{lstlisting}

\begin{figure}[h!]
  \centering
  \includegraphics[width=\textwidth]{images/bari.png}
  \caption{\cite{Bari2015} algorithm transmissions to create multi-stage graph}
\end{figure}

\cite{AbuLebdeh2017} considers the VNF placement is know a prior so we must used its algorithm after the VNF placement.
Therefore, to comparing MASMAN with \cite{AbuLebdeh2017} as the nearest work to JSD-MP,
We use the Bari \cite{Bari2015} algorithm for the placement and then use the proposed way in the \cite{AbuLebdeh2017} for VNFM placement.
The proposed way in \cite{AbuLebdeh2017} use Tabu Search for finding the best VNFM placement.
The results of this comparasion are availabe at the following sections.

%% Complexity analysis
